{% extends "base.html" %}
{% block title %}Database{% endblock %}

{% block content %}
<h2>ðŸ’¾ Database</h2>

<!-- Form grande con HTMX -->
<form hx-post="{{ url_for('views.run_query') }}" hx-target="#results" hx-swap="innerHTML">
  <div class="mb-2">
    <textarea name="query" class="form-control" rows="20" style="font-family: monospace; font-size: 1rem;" placeholder="Scrivi la query SQL qui..."></textarea>
  </div>
  <button class="btn btn-primary">
    <i class="fa-solid fa-play"></i> Esegui
  </button>
</form>

<!-- Risultati -->
<div id="results" class="mt-3">
  <!-- HTMX caricherÃ  qui i risultati -->
</div>

<!-- Stile base tabella -->
<style>
  #results table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
    margin-top: 10px;
  }
  #results th, #results td {
    padding: 10px;
    border: 1px solid #ddd;
    text-align: left;
  }
  #results th {
    background-color: #007bff;
    color: white;
  }
  #results tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  #results tr:hover {
    background-color: #e0f0ff;
  }

  /* Messaggi alert */
  .alert {
    padding: 10px 15px;
    border-radius: 5px;
    margin-bottom: 10px;
    font-weight: 500;
  }
  .alert-success { background-color: #d4edda; color: #155724; }
  .alert-danger { background-color: #f8d7da; color: #721c24; }
</style>

{% endblock %}
